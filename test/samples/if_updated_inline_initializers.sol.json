{"sources":{"test/samples/if_updated_inline_initializers.sol":{"ast":{"absolutePath":"test/samples/if_updated_inline_initializers.sol","exportedSymbols":{"Base":[36],"Child":[72]},"id":73,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","^","0.8",".0"],"nodeType":"PragmaDirective","src":"0:23:0"},{"abstract":false,"baseContracts":[],"contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":36,"linearizedBaseContracts":[36],"name":"Base","nameLocation":"34:4:0","nodeType":"ContractDefinition","nodes":[{"constant":false,"id":4,"mutability":"mutable","name":"x","nameLocation":"78:1:0","nodeType":"VariableDeclaration","scope":36,"src":"73:10:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2,"name":"uint","nodeType":"ElementaryTypeName","src":"73:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":3,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"82:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"internal"},{"constant":false,"id":9,"mutability":"mutable","name":"arr","nameLocation":"127:3:0","nodeType":"VariableDeclaration","scope":36,"src":"120:16:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[]"},"typeName":{"baseType":{"id":5,"name":"uint","nodeType":"ElementaryTypeName","src":"120:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":6,"nodeType":"ArrayTypeName","src":"120:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":{"components":[{"hexValue":"31","id":7,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"134:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"id":8,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"133:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}},"visibility":"internal"},{"constant":false,"id":20,"mutability":"mutable","name":"arr2","nameLocation":"184:4:0","nodeType":"VariableDeclaration","scope":36,"src":"175:30:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":10,"name":"uint","nodeType":"ElementaryTypeName","src":"175:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11,"nodeType":"ArrayTypeName","src":"175:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":12,"nodeType":"ArrayTypeName","src":"175:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"value":{"components":[{"components":[{"hexValue":"31","id":13,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"193:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},{"hexValue":"32","id":14,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"195:1:0","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"}],"id":15,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"192:5:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$2_memory_ptr","typeString":"uint8[2] memory"}},{"components":[{"hexValue":"33","id":16,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"200:1:0","typeDescriptions":{"typeIdentifier":"t_rational_3_by_1","typeString":"int_const 3"},"value":"3"},{"hexValue":"34","id":17,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"202:1:0","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"}],"id":18,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"199:5:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$2_memory_ptr","typeString":"uint8[2] memory"}}],"id":19,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"191:14:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint8_$2_memory_ptr_$2_memory_ptr","typeString":"uint8[2] memory[2] memory"}},"visibility":"internal"},{"canonicalName":"Base.S","id":28,"members":[{"constant":false,"id":23,"mutability":"mutable","name":"arr","nameLocation":"229:3:0","nodeType":"VariableDeclaration","scope":28,"src":"222:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":21,"name":"uint","nodeType":"ElementaryTypeName","src":"222:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":22,"nodeType":"ArrayTypeName","src":"222:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":27,"mutability":"mutable","name":"arr2","nameLocation":"245:4:0","nodeType":"VariableDeclaration","scope":28,"src":"236:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"},"typeName":{"baseType":{"baseType":{"id":24,"name":"uint","nodeType":"ElementaryTypeName","src":"236:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":25,"nodeType":"ArrayTypeName","src":"236:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"id":26,"nodeType":"ArrayTypeName","src":"236:8:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr","typeString":"uint256[][]"}},"visibility":"internal"}],"name":"S","nameLocation":"216:1:0","nodeType":"StructDefinition","scope":36,"src":"209:44:0","visibility":"public"},{"constant":false,"id":35,"mutability":"mutable","name":"s","nameLocation":"294:1:0","nodeType":"VariableDeclaration","scope":36,"src":"292:30:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_struct$_S_$28_storage","typeString":"struct Base.S"},"typeName":{"id":30,"nodeType":"UserDefinedTypeName","pathNode":{"id":29,"name":"S","nodeType":"IdentifierPath","referencedDeclaration":28,"src":"292:1:0"},"referencedDeclaration":28,"src":"292:1:0","typeDescriptions":{"typeIdentifier":"t_struct$_S_$28_storage_ptr","typeString":"struct Base.S"}},"value":{"arguments":[{"id":32,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9,"src":"305:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},{"id":33,"name":"arr2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":20,"src":"316:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"},{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}],"id":31,"name":"S","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":28,"src":"298:1:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_S_$28_storage_ptr_$","typeString":"type(struct Base.S storage pointer)"}},"id":34,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"names":["arr","arr2"],"nodeType":"FunctionCall","src":"298:24:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_S_$28_memory_ptr","typeString":"struct Base.S memory"}},"visibility":"internal"}],"scope":73,"src":"25:300:0","usedErrors":[]},{"abstract":false,"baseContracts":[{"baseName":{"id":37,"name":"Base","nodeType":"IdentifierPath","referencedDeclaration":36,"src":"345:4:0"},"id":38,"nodeType":"InheritanceSpecifier","src":"345:4:0"}],"contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"id":72,"linearizedBaseContracts":[72,36],"name":"Child","nameLocation":"336:5:0","nodeType":"ContractDefinition","nodes":[{"body":{"id":70,"nodeType":"Block","src":"374:79:0","statements":[{"expression":{"id":43,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":41,"name":"x","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4,"src":"378:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"34","id":42,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"382:1:0","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"},"src":"378:5:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":44,"nodeType":"ExpressionStatement","src":"378:5:0"},{"expression":{"id":48,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":45,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9,"src":"387:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"hexValue":"34","id":46,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"394:1:0","typeDescriptions":{"typeIdentifier":"t_rational_4_by_1","typeString":"int_const 4"},"value":"4"}],"id":47,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"393:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}},"src":"387:9:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":49,"nodeType":"ExpressionStatement","src":"387:9:0"},{"expression":{"id":56,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":50,"name":"arr2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":20,"src":"400:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"components":[{"hexValue":"31","id":51,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"409:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"}],"id":52,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"408:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}},{"components":[{"hexValue":"32","id":53,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"414:1:0","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"}],"id":54,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"413:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint8_$1_memory_ptr","typeString":"uint8[1] memory"}}],"id":55,"isConstant":false,"isInlineArray":true,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"407:10:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint8_$1_memory_ptr_$2_memory_ptr","typeString":"uint8[1] memory[2] memory"}},"src":"400:17:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"id":57,"nodeType":"ExpressionStatement","src":"400:17:0"},{"expression":{"id":62,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":58,"name":"s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35,"src":"421:1:0","typeDescriptions":{"typeIdentifier":"t_struct$_S_$28_storage","typeString":"struct Base.S storage ref"}},"id":60,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"arr","nodeType":"MemberAccess","referencedDeclaration":23,"src":"421:5:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":61,"name":"arr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":9,"src":"429:3:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"src":"421:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage","typeString":"uint256[] storage ref"}},"id":63,"nodeType":"ExpressionStatement","src":"421:11:0"},{"expression":{"id":68,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":64,"name":"s","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35,"src":"436:1:0","typeDescriptions":{"typeIdentifier":"t_struct$_S_$28_storage","typeString":"struct Base.S storage ref"}},"id":66,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"arr2","nodeType":"MemberAccess","referencedDeclaration":27,"src":"436:6:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":67,"name":"arr2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":20,"src":"445:4:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"src":"436:13:0","typeDescriptions":{"typeIdentifier":"t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage","typeString":"uint256[] storage ref[] storage ref"}},"id":69,"nodeType":"ExpressionStatement","src":"436:13:0"}]},"id":71,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","nodeType":"FunctionDefinition","parameters":{"id":39,"nodeType":"ParameterList","parameters":[],"src":"364:2:0"},"returnParameters":{"id":40,"nodeType":"ParameterList","parameters":[],"src":"374:0:0"},"scope":72,"src":"353:100:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":73,"src":"327:128:0","usedErrors":[]}],"src":"0:456:0","sourceEntryKey":"test/samples/if_updated_inline_initializers.sol"},"id":0,"source":"pragma solidity ^0.8.0;\n\ncontract Base {\n\t//// #if_updated x >= old(x);\n\tuint x = 1;\n\t//// #if_updated arr.length > 0;\n\tuint[] arr = [1];\n\n\t//// #if_updated arr2.length > 0;\n\tuint[][] arr2 = [[1,2], [3,4]];\n\n\tstruct S {\n\t\tuint[] arr;\n\t\tuint[][] arr2;\n\t}\n\n\t//// #if_updated s.arr.length > 0;\n\tS s = S({arr:arr, arr2: arr2});\n}\n\ncontract Child is Base {\n\tconstructor() public {\n\t\tx = 4;\n\t\tarr = [4];\n\t\tarr2 = [[1], [2]];\n\t\ts.arr = arr;\n\t\ts.arr2 = arr2;\n\t}\n}\n"}},"compilerVersion":"0.8.7"}